<div data-controller='modal'>
<!-- Button trigger modal -->
 <% if @bakery.pictures.attached? %>
      <%= cl_image_tag @bakery.pictures.first.key, crop: :fill %>
  <%else %>
   <button class='picture'><img   src="https://picsum.photos/id/237/400/500" data-modal-target='button' data-action="click->modal#displayModal" data-toggle="modal" data-target="#exampleModal"></button>
  <% end %>
<!-- Modal -->
<div class="modal fade"  data-modal-target='modal' id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" data-modal-target='close'data-action="click->modal#closeModal" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner" data-modal-target='picList'>
          <% if @bakery.pictures.attached? %>
            <%@bakery.pictures.each do |picture| %>
              <div class="carousel-item active">
                <%= cl_image_tag picture.key, crop: :fill ,class:"d-block caroussel-pic" ,alt:'picture' %>
              </div>
              <%end %>
          <%else %>
            <div class="carousel-item active">
              <img class="d-block caroussel-pic" src="https://www.sortiraparis.com/images/80/93419/629767-leonie-bakery-boulangerie-de-quartier-aux-batignolles.jpg" alt="First slide">
            </div>
            <div class="carousel-item ">
              <img class="d-block caroussel-pic" src="https://res.cloudinary.com/tf-lab/image/upload/w_600,h_337,c_fill,g_auto:subject,q_auto,f_auto/restaurant/83653502-099e-4508-beb2-5617d5263d0e/5bb815ec-5a72-419a-b824-82797d09e9c0.jpg" alt="Second slide">
            </div>
            <div class="carousel-item ">
              <img class="d-block caroussel-pic" src="https://media-exp1.licdn.com/dms/image/C511BAQEQyNIDOFug3w/company-background_10000/0/1519801426291?e=2147483647&v=beta&t=82QOknaGVP6fqt75L8v6GuhOYxCD0lrPY0bt14D4ZNY" alt="forth slide">
            </div>
            <div class="carousel-item ">
              <img class="d-block caroussel-pic" src="https://tableplacechairs.com/wp-content/uploads/2021/08/GAILS-BAKERY-TWICKENHAM-LONDON-for-web-7.jpg" alt="Third slide">
            </div>
          <% end %>
        </div>
        <button class="carousel-control-prev"  data-modal-target='picRight'role="button" data-action="click->modal#previous" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </button>
        <button class="carousel-control-next" data-modal-target='picLeft' role="button" data-action="click->modal#next" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </button>
      </div>
    </div>
  </div>
</div>

</div>
